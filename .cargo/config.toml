# Per-target settings for cross-compilation.
# These only apply when building with --target x86_64-unknown-linux-musl
# (used by CI/Release workflows).
[target.x86_64-unknown-linux-musl]
# CI/Release override this via CARGO_TARGET_X86_64_UNKNOWN_LINUX_MUSL_RUSTFLAGS.
rustflags = ["-C", "target-cpu=native"]

[env]
# Use offline SQLx metadata during builds to avoid hitting a live DATABASE_URL in CI.
SQLX_OFFLINE = "true"

[profile.release]
split-debuginfo = "packed"
